(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 8.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       157,          7]
NotebookDataLength[     31137,        648]
NotebookOptionsPosition[     28112,        581]
NotebookOutlinePosition[     28685,        604]
CellTagsIndexPosition[     28642,        601]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["Exotic Options", "Section",
 CellChangeTimes->{{3.558028076597926*^9, 3.5580280832543073`*^9}, {
   3.586992856794399*^9, 3.586992876466033*^9}, {3.7582262433046727`*^9, 
   3.75822631790418*^9}, {3.763051171667095*^9, 3.763051176329441*^9}, {
   3.7630651009658766`*^9, 3.7630651061516314`*^9}, {3.7630653977954283`*^9, 
   3.7630653998943243`*^9}, 3.763069697010412*^9, {3.7650548637373085`*^9, 
   3.765054865846186*^9}, {3.765661711363161*^9, 
   3.7656617145343094`*^9}},ExpressionUUID->"128503e1-e842-403b-bf2f-\
040e6def9c93"],

Cell[TextData[{
 StyleBox["a.) Define parameters. Use GeometricBrownianMotionProcess[] to \
generate stock processes. Perform a sanity check on the volatility.\n\t\
beginning price:\t",
  FontWeight->"Bold"],
 Cell[BoxData[
  FormBox[
   SubscriptBox["S", "0"], TraditionalForm]],ExpressionUUID->
  "18e39198-b514-4c86-9fb0-720b4e8ad551"],
 StyleBox[" = 100\n\tdaily volatility: \t\[Sigma] = 0.1\n\texpiry: \t\t\tT = \
30\n\tbarrier:\t\t\ty = 140\n\tstrike: \t\t\tK = 95\n\tdaily risk free rate: \
\tr = 0.1/days_per_year\n\nb.) Use Monte Carlo to compute the price of a \
European call using risk neutral pricing.  Compare your answer to that \
obtained using the Black-Scholes formula. Develop your solution using \
howManySamples = 100, but then increase to observe convergence to the Black \
Scholes formula value.\n\nc.) An up-and-out barrier call option is a call \
option on a stock whose beginning price ",
  FontWeight->"Bold"],
 Cell[BoxData[
  FormBox[
   SubscriptBox["S", "0"], TraditionalForm]],ExpressionUUID->
  "d27db562-2937-4e72-9752-cc3816c960c1"],
 StyleBox[" is below a threshold y. If the stock price before expiry T hits \
the threshold y, the option immediately \[OpenCurlyDoubleQuote]expires,\
\[CloseCurlyDoubleQuote] i.e. the owner cannot exercise. Price a barrier \
option numerically, i.e. using Monte Carlo simulation.\nNote K is the strike \
price, r is the risk-free rate, and \[Sigma] is the volatility of the stock. \
Here, we assume this option is European.\n\nd.) An Asian call option allows \
the holder to purchase an underlying stock at the average underlying price \
between time 0 and the time of exercise T. Using the same parameters above \
(except K and y), compute the fair price of an Asian call option.\n\nPLEASE \
NOTE: you must simulate many paths to gain accuracy in these calculations.",
  FontWeight->"Bold"]
}], "Text",
 CellChangeTimes->{{3.7582263902805843`*^9, 3.7582266050821624`*^9}, {
   3.763051183081974*^9, 3.7630511876405582`*^9}, 3.7630570608264256`*^9, {
   3.763057109244322*^9, 3.7630573996263666`*^9}, {3.763064666366785*^9, 
   3.7630650814284887`*^9}, {3.7630651404301825`*^9, 
   3.7630652697188063`*^9}, {3.763065771621621*^9, 3.7630658815605803`*^9}, {
   3.7630701870350904`*^9, 3.763070192982624*^9}, {3.7650549020095634`*^9, 
   3.7650550735786686`*^9}, {3.7650551170650096`*^9, 
   3.7650552326626406`*^9}, {3.7650552728512497`*^9, 
   3.7650553070379643`*^9}, {3.765055347365469*^9, 3.7650554055829515`*^9}, {
   3.7656617362169275`*^9, 3.765661939570614*^9}, {3.7658202600003853`*^9, 
   3.7658203601955657`*^9}, 3.7658204437271714`*^9, {3.7658215781197476`*^9, 
   3.765821613301652*^9}, {3.765821810339156*^9, 3.765821813026027*^9}, {
   3.765823450778575*^9, 3.765823533433756*^9}, {3.765824535541713*^9, 
   3.765824584448698*^9}, {3.765912139712999*^9, 3.765912163894843*^9}, {
   3.7659131081353626`*^9, 
   3.765913123197857*^9}},ExpressionUUID->"a71ef53e-f744-41b7-99a6-\
e839260e9253"],

Cell[TextData[StyleBox["Due Saturday May 4th by Midnight.\n\n", \
"Subsubsection"]], "Text",
 CellChangeTimes->{{3.7582263902805843`*^9, 3.7582266050821624`*^9}, {
   3.763051183081974*^9, 3.7630511876405582`*^9}, 3.7630570608264256`*^9, {
   3.763057109244322*^9, 3.7630573996263666`*^9}, {3.763064666366785*^9, 
   3.7630650814284887`*^9}, {3.7630651404301825`*^9, 
   3.7630652697188063`*^9}, {3.7630653389520082`*^9, 
   3.7630653897695503`*^9}, {3.763246323437853*^9, 3.763246325349556*^9}, {
   3.765054880780409*^9, 3.7650548974639635`*^9}, {3.765661984181159*^9, 
   3.7656619924561043`*^9}},ExpressionUUID->"cbb8a670-fe00-4b0b-92c1-\
42b274aac7d8"],

Cell[BoxData[
 RowBox[{"Clear", "[", "\"\<Global`*\>\"", "]"}]], "Input",
 CellChangeTimes->{{3.7658388181163254`*^9, 
  3.7658388181163254`*^9}},ExpressionUUID->"7601bb38-97d6-4865-8297-\
33cdddf27ca7"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Part A - Parameters and Price Path Generation", "Section",
 CellChangeTimes->{{3.765820401951598*^9, 3.765820407731458*^9}, {
  3.7658234143074503`*^9, 
  3.765823420464364*^9}},ExpressionUUID->"83b6991a-3d46-4568-a6a9-\
0428ed24580f"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"nCurrentPrice", "=", "100"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"iDaysPerYear", "=", "252"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"iDaysToExpiry", "=", "30"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"nDailyVolatility", "=", "0.02"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"nDailyRiskFreeRate", "=", 
    RowBox[{"0.1", "/", "iDaysPerYear"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"nStrikePrice", "=", "95"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"nBarrierPrice", "=", "140"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"nInception", "=", "0"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"nAverageSoFar", "=", "nCurrentPrice"}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"iSteps", "=", "1000"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"iPaths", "=", "10000"}], ";"}]}], "Input",
 CellChangeTimes->{{3.7658204655917387`*^9, 3.76582063096143*^9}, {
   3.7658215004421463`*^9, 3.7658215148791547`*^9}, {3.765821780936406*^9, 
   3.7658218000279055`*^9}, {3.765821950855626*^9, 3.7658219638549366`*^9}, {
   3.765823081183138*^9, 3.7658230928560796`*^9}, {3.7658231525933895`*^9, 
   3.765823153374457*^9}, {3.7658238133005447`*^9, 3.7658238138938866`*^9}, {
   3.7658243105516214`*^9, 3.7658243119443665`*^9}, {3.765824368075424*^9, 
   3.765824399013667*^9}, {3.765824466214153*^9, 3.765824528324509*^9}, {
   3.7658246377147837`*^9, 3.765824637855598*^9}, 3.7658248953227935`*^9, {
   3.7658259792781277`*^9, 3.765825979512225*^9}, {3.7658262690470986`*^9, 
   3.76582626934409*^9}, {3.76583581091541*^9, 3.7658358118526845`*^9}, 
   3.7658359890463347`*^9, {3.76583608744013*^9, 3.7658360906270733`*^9}, {
   3.765836226313202*^9, 3.765836227500461*^9}, 3.765836311258561*^9, {
   3.7658363848350077`*^9, 3.7658363853192544`*^9}, {3.7658364224511623`*^9, 
   3.765836423591308*^9}, {3.7658365375672245`*^9, 3.765836566919924*^9}, 
   3.7658366310142326`*^9, 3.7658367082149177`*^9, {3.765838168194765*^9, 
   3.765838168491578*^9}, {3.765839181415494*^9, 3.76583918199325*^9}, {
   3.7658392454784*^9, 3.7658392528050013`*^9}, {3.7659120973040237`*^9, 
   3.765912109801309*^9}, {3.765912191779182*^9, 3.7659122139146338`*^9}, {
   3.765912265261987*^9, 3.7659122705888786`*^9}, {3.76591252478551*^9, 
   3.7659125272070255`*^9}, {3.7659125634954166`*^9, 3.7659125639328127`*^9}, 
   3.7659128410418825`*^9, {3.7659128963069415`*^9, 3.765912899289109*^9}, {
   3.765913079791021*^9, 3.7659130964489365`*^9}, {3.7659131328068247`*^9, 
   3.7659131395725703`*^9}},ExpressionUUID->"7d17a0c2-40e9-4f41-853f-\
06a3fec84f53"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"vvnPaths", "=", 
   RowBox[{"Normal", "[", 
    RowBox[{"RandomFunction", "[", 
     RowBox[{
      RowBox[{"GeometricBrownianMotionProcess", "[", 
       RowBox[{
       "nDailyRiskFreeRate", ",", "nDailyVolatility", ",", "nCurrentPrice"}], 
       "]"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", "iDaysToExpiry", ",", "1"}], "}"}], ",", "iPaths"}], 
     "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"vvnPaths", " ", "=", " ", 
   RowBox[{
    RowBox[{"Flatten", "[", 
     RowBox[{
      RowBox[{"Map", "[", 
       RowBox[{"Transpose", ",", "vvnPaths"}], "]"}], ",", "1"}], "]"}], "[", 
    
    RowBox[{"[", 
     RowBox[{"2", ";;", ";;", "2"}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"Sqrt", "[", 
  RowBox[{
   RowBox[{"Total", "[", 
    RowBox[{
     RowBox[{"Differences", "[", 
      RowBox[{"Log", "[", 
       RowBox[{"vvnPaths", "[", 
        RowBox[{"[", "1", "]"}], "]"}], "]"}], "]"}], "^", "2"}], "]"}], "/", 
   "iDaysToExpiry"}], "]"}]}], "Input",
 CellChangeTimes->{{3.7658211265899935`*^9, 3.7658211279488297`*^9}, {
   3.7658213938177*^9, 3.7658214640202465`*^9}, {3.7658222680299*^9, 
   3.7658222816517305`*^9}, 3.7658236019495687`*^9, {3.765823691883893*^9, 
   3.76582373377747*^9}, {3.765824601089801*^9, 3.7658246350123215`*^9}, 
   3.7658248133259315`*^9, {3.7658248479957824`*^9, 3.765824918433298*^9}, {
   3.7658251743339295`*^9, 3.7658252229812155`*^9}, {3.7658252561044025`*^9, 
   3.765825332942501*^9}, {3.7658255406766663`*^9, 3.765825563051219*^9}, {
   3.765825687406988*^9, 3.7658257010637684`*^9}, {3.7658259055886745`*^9, 
   3.765825965687422*^9}, {3.7658260076997137`*^9, 3.7658260403655787`*^9}, 
   3.765826140667852*^9, 3.7658358083066444`*^9, 3.7658360213200207`*^9, 
   3.7658362383418336`*^9, {3.765839483480716*^9, 3.765839489854276*^9}, {
   3.7658395268610053`*^9, 3.765839599453618*^9}, {3.765839665021409*^9, 
   3.7658397094329004`*^9}, 3.765839974733876*^9, {3.7658402285084825`*^9, 
   3.765840246238924*^9}, {3.765912240845595*^9, 3.7659122500778136`*^9}, {
   3.765912292271064*^9, 3.7659122959889755`*^9}, {3.765912415497148*^9, 
   3.765912415637726*^9}, 3.7659125313779297`*^9, {3.765912767120148*^9, 
   3.765912773854925*^9}, 3.765912920400679*^9, {3.7659131440263376`*^9, 
   3.765913174724731*^9}, {3.7659132911668377`*^9, 3.7659132933225727`*^9}, {
   3.765913332619358*^9, 3.7659133369948053`*^9}, {3.765913424180376*^9, 
   3.7659134329322376`*^9}, {3.765913466526743*^9, 3.76591346724509*^9}, {
   3.765914090982555*^9, 3.765914093638174*^9}, {3.7659141456709204`*^9, 
   3.76591416852606*^9}},ExpressionUUID->"e90c9426-1e61-41a9-b8af-\
86b12b949c68"],

Cell[BoxData["0.01726176726048062`"], "Output",
 CellChangeTimes->{
  3.765839777135993*^9, 3.765840177633247*^9, 3.76591231432979*^9, 
   3.7659123830670333`*^9, {3.7659125399381914`*^9, 3.765912569056379*^9}, 
   3.7659126926265554`*^9, {3.7659127848384466`*^9, 3.7659128596660614`*^9}, {
   3.765912917931714*^9, 3.765912929489382*^9}, 3.765913196525962*^9, {
   3.7659133216357393`*^9, 3.765913357088378*^9}, {3.7659134097137475`*^9, 
   3.765913451245061*^9}, 3.7659134906188545`*^9, 3.7659136007106423`*^9, 
   3.7659140279526997`*^9, {3.7659140991522818`*^9, 3.765914111930574*^9}, {
   3.7659141584346724`*^9, 3.7659141708224*^9}, 
   3.7659142578333287`*^9},ExpressionUUID->"d3ceba2d-cfe0-48ab-b5ad-\
83b0b1658b38"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Part B - European Call Option Pricing", "Section",
 CellChangeTimes->{{3.7658216394567842`*^9, 3.76582164134704*^9}, {
  3.7658232192140393`*^9, 
  3.7658232268229513`*^9}},ExpressionUUID->"59877403-ec64-45f8-bade-\
4df35c3e14e1"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"FinancialDerivative", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"\"\<European\>\"", ",", "\"\<Call\>\""}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\"\<StrikePrice\>\"", "\[Rule]", "nStrikePrice"}], ",", 
     RowBox[{"\"\<Expiration\>\"", "\[Rule]", "iDaysToExpiry"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\"\<CurrentPrice\>\"", "\[Rule]", "nCurrentPrice"}], ",", 
     RowBox[{"\"\<Volatility\>\"", "\[Rule]", "nDailyVolatility"}], ",", 
     RowBox[{"\"\<InterestRate\>\"", "\[Rule]", "nDailyRiskFreeRate"}]}], 
    "}"}]}], "]"}]], "Input",
 CellChangeTimes->{{3.7658216594880877`*^9, 3.76582167297256*^9}, {
   3.7658217144992247`*^9, 3.7658217348110104`*^9}, {3.7658217669084635`*^9, 
   3.765821775234639*^9}, {3.765821822277886*^9, 3.7658219085416512`*^9}, 
   3.7658219553702126`*^9, {3.765822084577367*^9, 3.7658221110422397`*^9}, {
   3.765822148067397*^9, 3.765822148484044*^9}, {3.7658221891202984`*^9, 
   3.7658222024635572`*^9}, {3.765824648731035*^9, 3.765824672479438*^9}, {
   3.7659123405893106`*^9, 3.7659123496496925`*^9}, {3.7659132171979012`*^9, 
   3.765913232344943*^9}},ExpressionUUID->"7fa985f0-8d6f-40e2-928f-\
8ddfdae15dbe"],

Cell[BoxData["7.981147075942317`"], "Output",
 CellChangeTimes->{
  3.765822780448263*^9, 3.7658230412521315`*^9, 3.765823127730607*^9, 
   3.7658231615754137`*^9, 3.7658247461685877`*^9, 3.7658264005369816`*^9, 
   3.7658357312594094`*^9, 3.765835825745598*^9, 3.7658362447620225`*^9, {
   3.7658364040646324`*^9, 3.7658364337322626`*^9}, 3.7658365462370605`*^9, 
   3.765836576620572*^9, 3.76583785393614*^9, 3.765838206951101*^9, 
   3.765838859923475*^9, 3.765839211595728*^9, 3.7658393409359627`*^9, 
   3.765912354805002*^9, 3.7659129517753534`*^9, 3.7659132352920647`*^9, 
   3.7659140356983767`*^9, 3.7659141190226593`*^9, 3.7659141745559006`*^9, 
   3.765914257848913*^9},ExpressionUUID->"895963e8-7eb4-46f1-aada-\
0839e288dc21"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"vnPayoffs", "=", 
   RowBox[{
    RowBox[{
     RowBox[{"Max", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"Last", "[", "#", "]"}], "-", "nStrikePrice"}], ",", "0"}], 
      "]"}], "&"}], "/@", "vvnPaths"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"vnDiscountedPayoffs", "=", 
   RowBox[{
    RowBox[{"Exp", "[", 
     RowBox[{
      RowBox[{"-", "nDailyRiskFreeRate"}], "*", "iDaysToExpiry"}], "]"}], "*",
     "vnPayoffs"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"Mean", "[", "vnDiscountedPayoffs", "]"}]}], "Input",
 CellChangeTimes->{{3.7658260582675953`*^9, 3.7658261350585184`*^9}, {
  3.7658355722420435`*^9, 3.7658356831729975`*^9}, {3.7658357467464557`*^9, 
  3.7658357511509438`*^9}, {3.7658358054164996`*^9, 3.76583580613509*^9}, {
  3.765912474255224*^9, 3.765912480909887*^9}, {3.765913244370062*^9, 
  3.765913246588292*^9}, {3.7659140447743793`*^9, 
  3.7659140462430224`*^9}},ExpressionUUID->"29d4df1d-669e-473e-9aa8-\
91396315589e"],

Cell[BoxData["8.029194127175838`"], "Output",
 CellChangeTimes->{
  3.7658264048015795`*^9, {3.765835735585916*^9, 3.76583575563536*^9}, 
   3.765835830744397*^9, {3.7658362471208396`*^9, 3.7658362512328844`*^9}, {
   3.7658363031352715`*^9, 3.765836305415986*^9}, {3.765836408313635*^9, 
   3.765836436169222*^9}, 3.7658365480959997`*^9, 3.7658365786357236`*^9, {
   3.765837856294964*^9, 3.7658378662457604`*^9}, 3.765838212356084*^9, 
   3.765838310051979*^9, 3.7658388603766546`*^9, 3.7658392159542685`*^9, 
   3.765839357494593*^9, {3.7659124680535173`*^9, 3.7659124853728313`*^9}, 
   3.765912954964013*^9, 3.765913249618754*^9, {3.765914041431408*^9, 
   3.7659140519289556`*^9}, 3.76591412194384*^9, 3.7659141770553155`*^9, 
   3.7659142578645344`*^9},ExpressionUUID->"8c5d7f6a-cf7d-421b-aeab-\
e396b6bb6b6b"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Part C - Up-And-Out Barrier European Call Pricing", "Section",
 CellChangeTimes->{{3.7632463779741096`*^9, 3.763246381500661*^9}, {
  3.76505544475611*^9, 3.765055445598423*^9}, {3.7658203629138966`*^9, 
  3.7658203641789937`*^9}, {3.7658216284578323`*^9, 3.7658216288743443`*^9}, {
  3.7658232290754433`*^9, 
  3.7658232575659804`*^9}},ExpressionUUID->"7d796bec-ab77-483d-af27-\
86313c60f49b"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"FinancialDerivative", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
    "\"\<BarrierUpOut\>\"", ",", "\"\<European\>\"", ",", "\"\<Call\>\""}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\"\<StrikePrice\>\"", "\[Rule]", "nStrikePrice"}], ",", 
     RowBox[{"\"\<Expiration\>\"", "\[Rule]", "iDaysToExpiry"}], ",", 
     RowBox[{"\"\<Barrier\>\"", "\[Rule]", "nBarrierPrice"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\"\<CurrentPrice\>\"", "\[Rule]", "nCurrentPrice"}], ",", 
     RowBox[{"\"\<Volatility\>\"", "\[Rule]", "nDailyVolatility"}], ",", 
     RowBox[{"\"\<InterestRate\>\"", "\[Rule]", "nDailyRiskFreeRate"}]}], 
    "}"}]}], "]"}]], "Input",
 CellChangeTimes->{{3.7632471260406675`*^9, 3.763247188231082*^9}, {
   3.763247219719963*^9, 3.7632472257523413`*^9}, {3.763311014494416*^9, 
   3.7633110542781444`*^9}, {3.763311155258484*^9, 3.7633111883338985`*^9}, {
   3.7633112316262774`*^9, 3.7633112411193094`*^9}, {3.7633114370850687`*^9, 
   3.763311482473575*^9}, {3.7633115159601927`*^9, 3.763311540673418*^9}, {
   3.7633116159643297`*^9, 3.763311616386118*^9}, {3.7633116502578025`*^9, 
   3.7633116645207853`*^9}, {3.7633117107658615`*^9, 
   3.7633117470578804`*^9}, {3.7633118150136347`*^9, 
   3.7633119510354633`*^9}, {3.76331258445837*^9, 3.763312689648428*^9}, {
   3.763312734598174*^9, 3.7633127554541855`*^9}, {3.7633129569300756`*^9, 
   3.763312966352253*^9}, {3.7633130409822693`*^9, 3.7633130649381733`*^9}, 
   3.7633131147075324`*^9, {3.76331315896801*^9, 3.763313159280199*^9}, {
   3.763313257993371*^9, 3.763313284904725*^9}, {3.7633133337266417`*^9, 
   3.763313334273347*^9}, {3.7633133743019543`*^9, 3.763313385124527*^9}, 
   3.7633134514916973`*^9, {3.763313517871722*^9, 3.7633135356825843`*^9}, 
   3.7633135676481857`*^9, {3.7633136156082277`*^9, 3.7633136818161383`*^9}, {
   3.763314079402007*^9, 3.7633141133801785`*^9}, {3.76331438676569*^9, 
   3.76331442689648*^9}, {3.7633147843281913`*^9, 3.763314795640704*^9}, {
   3.763314990308152*^9, 3.763314991779334*^9}, {3.7633185337120132`*^9, 
   3.7633185341806607`*^9}, {3.7633194162910476`*^9, 3.763319447275197*^9}, {
   3.763319494790444*^9, 3.7633195002827835`*^9}, {3.76332048531644*^9, 
   3.763320565490868*^9}, 3.7633206278129473`*^9, {3.76332071319944*^9, 
   3.763320734535878*^9}, 3.7633208220445337`*^9, {3.763320853812709*^9, 
   3.76332086616462*^9}, {3.763321016147235*^9, 3.763321082684131*^9}, {
   3.7633328701512794`*^9, 3.763332901824257*^9}, {3.763333006174924*^9, 
   3.7633330097051077`*^9}, {3.7633330427754426`*^9, 
   3.7633330884721828`*^9}, {3.7633331309155455`*^9, 3.76333315056693*^9}, {
   3.7633332002179465`*^9, 3.7633332262421436`*^9}, {3.7633332583127184`*^9, 
   3.7633332616713037`*^9}, {3.763398652188772*^9, 3.7633986896335444`*^9}, 
   3.7633987504859867`*^9, {3.763398798017321*^9, 3.763398822563914*^9}, {
   3.7633988687221413`*^9, 3.7633988851211386`*^9}, {3.763399515060487*^9, 
   3.7633995972166195`*^9}, {3.763400026475627*^9, 3.763400076407365*^9}, {
   3.7634008495982428`*^9, 3.763400860804177*^9}, {3.763404438901495*^9, 
   3.7634044529204865`*^9}, {3.7634044961708198`*^9, 
   3.7634045089530277`*^9}, {3.7634045940995317`*^9, 
   3.7634045998042803`*^9}, {3.7634046762624426`*^9, 
   3.7634047822427654`*^9}, {3.763405286200035*^9, 3.7634052886895533`*^9}, {
   3.763406317241562*^9, 3.763406335325323*^9}, {3.763483339386758*^9, 
   3.7634833517597885`*^9}, 3.7634833864315176`*^9, {3.7650555166132793`*^9, 
   3.7650555170681887`*^9}, {3.7650556191867867`*^9, 
   3.7650556317465625`*^9}, {3.7650557520365*^9, 3.765055755723048*^9}, 
   3.7650558891604033`*^9, {3.7650559456939335`*^9, 3.765055950348863*^9}, {
   3.7650560058546057`*^9, 3.765056023462896*^9}, {3.765056078431078*^9, 
   3.765056079536499*^9}, {3.765056370058821*^9, 3.7650564402292337`*^9}, {
   3.765056518355977*^9, 3.765056523542039*^9}, {3.7650566772147217`*^9, 
   3.765056759995536*^9}, {3.76505683946095*^9, 3.7650568592885513`*^9}, {
   3.7650568923813353`*^9, 3.7650569548345222`*^9}, {3.7650578312255197`*^9, 
   3.765057848128107*^9}, {3.76505869992863*^9, 3.765058702233557*^9}, 
   3.7650611331280937`*^9, 3.7650629457169104`*^9, {3.7650630710914035`*^9, 
   3.7650632697006335`*^9}, {3.765063336358322*^9, 3.765063378388608*^9}, {
   3.7650634440291367`*^9, 3.7650634482312713`*^9}, {3.7651333361379504`*^9, 
   3.765133337012746*^9}, {3.765133550025405*^9, 3.7651335538920617`*^9}, 
   3.7656620057689204`*^9, {3.7656621125160465`*^9, 3.765662118420906*^9}, {
   3.765662158259945*^9, 3.765662214095295*^9}, {3.765662251517198*^9, 
   3.7656623094471498`*^9}, {3.7656623985616813`*^9, 3.765662431697821*^9}, {
   3.7656624674597063`*^9, 3.7656624742705836`*^9}, {3.7656629117478657`*^9, 
   3.7656629131381454`*^9}, {3.765665568036368*^9, 3.765665605291381*^9}, {
   3.765822563012082*^9, 3.765822623886662*^9}, {3.765824677213646*^9, 
   3.765824696573007*^9}},ExpressionUUID->"52071934-8bcc-42ee-be01-\
ab9f918f8c88"],

Cell[BoxData["7.868940890102634`"], "Output",
 CellChangeTimes->{
  3.7656626420235186`*^9, 3.765662926306702*^9, {3.7656656231942124`*^9, 
   3.765665626027549*^9}, 3.7658227866993504`*^9, 3.7658230444857135`*^9, 
   3.765823131849179*^9, 3.7658231706204367`*^9, 3.765824752654409*^9, 
   3.765835935043687*^9, 3.765836257075237*^9, 3.765836319725113*^9, 
   3.7658364118909435`*^9, 3.7658364422615366`*^9, {3.765836554532015*^9, 
   3.7658365823223567`*^9}, 3.7658366848715987`*^9, 3.7658378730722885`*^9, 
   3.7658382157771626`*^9, 3.7658383203152065`*^9, 3.765838860392109*^9, 
   3.7658392201874714`*^9, 3.765839364039717*^9, 3.765914184084919*^9, 
   3.7659142578801565`*^9},ExpressionUUID->"867df30a-9e62-46d6-b998-\
ac5f15833739"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"vnPayoffs", "=", 
   RowBox[{
    RowBox[{
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"Max", "[", "#", "]"}], "<=", "nBarrierPrice"}], ",", 
       RowBox[{"Max", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"Last", "[", "#", "]"}], "-", "nStrikePrice"}], ",", "0"}], 
        "]"}], ",", "0"}], "]"}], "&"}], "/@", "vvnPaths"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"vnDiscountedPayoffs", "=", 
   RowBox[{
    RowBox[{"Exp", "[", 
     RowBox[{
      RowBox[{"-", "nDailyRiskFreeRate"}], "*", "iDaysToExpiry"}], "]"}], "*",
     "vnPayoffs"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"Mean", "[", "vnDiscountedPayoffs", "]"}]}], "Input",
 CellChangeTimes->{{3.765663137152608*^9, 3.7656631421751146`*^9}, {
   3.7656631811210775`*^9, 3.7656631976214933`*^9}, {3.765663230000372*^9, 
   3.765663245438603*^9}, {3.7656633759316635`*^9, 3.7656634224843607`*^9}, 
   3.7656634532014246`*^9, {3.7656635193742456`*^9, 3.76566358217332*^9}, {
   3.7656636192023396`*^9, 3.7656636226716843`*^9}, {3.765664129899536*^9, 
   3.7656641455673504`*^9}, {3.7656642663167024`*^9, 
   3.7656643290644474`*^9}, {3.7656643644304447`*^9, 
   3.7656644010861087`*^9}, {3.765664447427518*^9, 3.765664464615656*^9}, {
   3.7656645074711895`*^9, 3.7656646650045147`*^9}, {3.7656647382895927`*^9, 
   3.7656647472339983`*^9}, {3.7656657027139397`*^9, 3.765665843842227*^9}, {
   3.7656658809826117`*^9, 3.765665882128048*^9}, {3.765665938292623*^9, 
   3.7656659505056477`*^9}, {3.765666010829543*^9, 3.7656660700901117`*^9}, {
   3.765666113299867*^9, 3.765666115799281*^9}, {3.76566614699022*^9, 
   3.765666158123349*^9}, {3.765666216863168*^9, 3.7656662346782684`*^9}, {
   3.7656662699842844`*^9, 3.765666378442645*^9}, {3.765666462472911*^9, 
   3.765666486763545*^9}, 3.765666563598487*^9, {3.765666593880023*^9, 
   3.765666694580338*^9}, {3.7658358838078365`*^9, 3.7658359227205963`*^9}, 
   3.765836009525891*^9, {3.765836210655499*^9, 
   3.765836222324837*^9}},ExpressionUUID->"90ef75cf-76da-4352-9d87-\
e3e5b8a59c96"],

Cell[BoxData["7.93327321949084`"], "Output",
 CellChangeTimes->{{3.7658360117126827`*^9, 3.765836035749125*^9}, 
   3.7658361123234963`*^9, 3.765836177319592*^9, {3.7658362609336767`*^9, 
   3.7658362806249056`*^9}, 3.765836322099558*^9, 3.765836414546576*^9, {
   3.765836445213972*^9, 3.765836468114802*^9}, {3.7658365589216185`*^9, 
   3.7658365854934893`*^9}, 3.765836627952257*^9, 3.7658367042472796`*^9, 
   3.7658378763996367`*^9, 3.765838224197097*^9, 3.765838315769393*^9, 
   3.7658388610794554`*^9, 3.765839225748633*^9, 3.7658393690697975`*^9, 
   3.7659141887244616`*^9, 
   3.7659142579426727`*^9},ExpressionUUID->"7099a9a3-db6c-4f7f-8952-\
79a6fe0b855f"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Part D - Asian Arithmetic European Call Pricing", "Section",
 CellChangeTimes->{{3.7650554678633957`*^9, 3.7650554687538166`*^9}, {
  3.76582036720977*^9, 3.7658203682876353`*^9}, {3.765821631618976*^9, 
  3.765821632175458*^9}, {3.765823260518421*^9, 
  3.76582327014116*^9}},ExpressionUUID->"1743cb57-99cc-4303-b300-\
ae8720562c86"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"FinancialDerivative", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
    "\"\<AsianArithmetic\>\"", ",", "\"\<European\>\"", ",", "\"\<Call\>\""}],
     "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\"\<StrikePrice\>\"", "\[Rule]", "nStrikePrice"}], ",", 
     RowBox[{"\"\<Expiration\>\"", "\[Rule]", "iDaysToExpiry"}], ",", 
     RowBox[{"\"\<Inception\>\"", "\[Rule]", "nInception"}], ",", 
     RowBox[{"\"\<AverageSoFar\>\"", "\[Rule]", "nAverageSoFar"}]}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\"\<CurrentPrice\>\"", "\[Rule]", "nCurrentPrice"}], ",", 
     RowBox[{"\"\<Volatility\>\"", "\[Rule]", "nDailyVolatility"}], ",", 
     RowBox[{"\"\<InterestRate\>\"", "\[Rule]", "nDailyRiskFreeRate"}]}], 
    "}"}]}], "]"}]], "Input",
 CellChangeTimes->{{3.7658223963405933`*^9, 3.7658224071382113`*^9}, {
   3.7658224923255925`*^9, 3.7658225294539704`*^9}, {3.765822750970993*^9, 
   3.765822767763914*^9}, {3.7658228340902643`*^9, 3.7658228873097715`*^9}, {
   3.7658230997607512`*^9, 3.7658231056360283`*^9}, {3.7658247126684284`*^9, 
   3.765824722215616*^9}, {3.765838368569619*^9, 3.7658384262593865`*^9}, {
   3.7658385839783554`*^9, 3.76583858557899*^9}, 
   3.7659142249506016`*^9},ExpressionUUID->"e75589df-3f2e-46d6-99fa-\
6d8c2c28ded0"],

Cell[BoxData["6.105282112054088`"], "Output",
 CellChangeTimes->{{3.7658228935114217`*^9, 3.765822901699541*^9}, 
   3.7658231112637577`*^9, 3.765823141783223*^9, 3.7658231834594088`*^9, 
   3.7658247618124104`*^9, 3.7658382337729483`*^9, {3.7658383922202597`*^9, 
   3.765838428899177*^9}, 3.765838588843213*^9, 3.7658388618293257`*^9, 
   3.7658392340437727`*^9, 3.765839377411618*^9, {3.765914206970191*^9, 
   3.76591425861436*^9}},ExpressionUUID->"4e0aff6f-6985-4255-b9e3-\
a4e61f681a0d"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"vnPayoffs", "=", 
   RowBox[{
    RowBox[{
     RowBox[{"Max", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"Mean", "[", "#", "]"}], "-", "nStrikePrice"}], ",", "0"}], 
      "]"}], "&"}], "/@", "vvnPaths"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"vnDiscountedPayoffs", "=", 
   RowBox[{
    RowBox[{"Exp", "[", 
     RowBox[{
      RowBox[{"-", "nDailyRiskFreeRate"}], "*", "iDaysToExpiry"}], "]"}], "*",
     "vnPayoffs"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"Mean", "[", "vnDiscountedPayoffs", "]"}]}], "Input",
 CellChangeTimes->{{3.7658368869664364`*^9, 3.765836949123677*^9}, {
  3.765838238022187*^9, 3.765838242708581*^9}, {3.765838349214939*^9, 
  3.765838354635536*^9}, {3.7658385709221325`*^9, 
  3.765838577281476*^9}},ExpressionUUID->"a0453524-58c2-4315-9b9f-\
bbaa87aedd1d"],

Cell[BoxData["6.107374647096172`"], "Output",
 CellChangeTimes->{3.765838246738669*^9, 3.7658383407010593`*^9, 
  3.7658385935442777`*^9, 3.765838862204155*^9, 3.765839236902272*^9, 
  3.765839386643803*^9, 3.765914209953868*^9, 
  3.7659142586612253`*^9},ExpressionUUID->"937f209d-3298-4758-964c-\
3c14f142a668"]
}, Open  ]]
}, Open  ]]
},
WindowSize->{1920, 997},
WindowMargins->{{-8, Automatic}, {Automatic, -8}},
WindowStatusArea->None,
PrintingCopies->1,
PrintingPageRange->{32000, 32000},
PrintingOptions->{"Magnification"->1.,
"PaperOrientation"->"Portrait",
"PaperSize"->{612, 792}},
ShowSelection->True,
Magnification:>1.5 Inherited,
FrontEndVersion->"11.2 for Microsoft Windows (64-bit) (September 10, 2017)",
StyleDefinitions->"Report.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[579, 22, 539, 8, 99, "Section",ExpressionUUID->"128503e1-e842-403b-bf2f-040e6def9c93"],
Cell[1121, 32, 2974, 50, 452, "Text",ExpressionUUID->"a71ef53e-f744-41b7-99a6-e839260e9253"],
Cell[4098, 84, 657, 10, 84, "Text",ExpressionUUID->"cbb8a670-fe00-4b0b-92c1-42b274aac7d8"],
Cell[4758, 96, 203, 4, 48, "Input",ExpressionUUID->"7601bb38-97d6-4865-8297-33cdddf27ca7"]
}, Open  ]],
Cell[CellGroupData[{
Cell[4998, 105, 241, 4, 99, "Section",ExpressionUUID->"83b6991a-3d46-4568-a6a9-0428ed24580f"],
Cell[5242, 111, 2759, 51, 385, "Input",ExpressionUUID->"7d17a0c2-40e9-4f41-853f-06a3fec84f53"],
Cell[CellGroupData[{
Cell[8026, 166, 2710, 55, 105, "Input",ExpressionUUID->"e90c9426-1e61-41a9-b8af-86b12b949c68"],
Cell[10739, 223, 724, 11, 91, "Output",ExpressionUUID->"d3ceba2d-cfe0-48ab-b5ad-83b0b1658b38"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[11512, 240, 236, 4, 99, "Section",ExpressionUUID->"59877403-ec64-45f8-bade-4df35c3e14e1"],
Cell[CellGroupData[{
Cell[11773, 248, 1220, 23, 77, "Input",ExpressionUUID->"7fa985f0-8d6f-40e2-928f-8ddfdae15dbe"],
Cell[12996, 273, 738, 11, 91, "Output",ExpressionUUID->"895963e8-7eb4-46f1-aada-0839e288dc21"]
}, Open  ]],
Cell[CellGroupData[{
Cell[13771, 289, 1011, 24, 105, "Input",ExpressionUUID->"29d4df1d-669e-473e-9aa8-91396315589e"],
Cell[14785, 315, 817, 12, 91, "Output",ExpressionUUID->"8c5d7f6a-cf7d-421b-aeab-e396b6bb6b6b"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[15651, 333, 400, 6, 99, "Section",ExpressionUUID->"7d796bec-ab77-483d-af27-86313c60f49b"],
Cell[CellGroupData[{
Cell[16076, 343, 5022, 77, 77, "Input",ExpressionUUID->"52071934-8bcc-42ee-be01-ab9f918f8c88"],
Cell[21101, 422, 739, 11, 91, "Output",ExpressionUUID->"867df30a-9e62-46d6-b998-ac5f15833739"]
}, Open  ]],
Cell[CellGroupData[{
Cell[21877, 438, 2108, 42, 105, "Input",ExpressionUUID->"90ef75cf-76da-4352-9d87-e3e5b8a59c96"],
Cell[23988, 482, 669, 10, 91, "Output",ExpressionUUID->"7099a9a3-db6c-4f7f-8952-79a6fe0b855f"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[24706, 498, 340, 5, 99, "Section",ExpressionUUID->"1743cb57-99cc-4303-b300-ae8720562c86"],
Cell[CellGroupData[{
Cell[25071, 507, 1310, 27, 105, "Input",ExpressionUUID->"e75589df-3f2e-46d6-99fa-6d8c2c28ded0"],
Cell[26384, 536, 493, 7, 91, "Output",ExpressionUUID->"4e0aff6f-6985-4255-b9e3-a4e61f681a0d"]
}, Open  ]],
Cell[CellGroupData[{
Cell[26914, 548, 854, 22, 105, "Input",ExpressionUUID->"a0453524-58c2-4315-9b9f-bbaa87aedd1d"],
Cell[27771, 572, 313, 5, 124, "Output",ExpressionUUID->"937f209d-3298-4758-964c-3c14f142a668"]
}, Open  ]]
}, Open  ]]
}
]
*)

